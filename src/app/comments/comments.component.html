<div class="comment-section">
  <form ng-controller="Controller">

    <hr *ngIf="isLoggedIn()"/>

    <div class="form-floating d-flex flex-column align-content-end">
      <div>
      <textarea *ngIf="isLoggedIn()" class="form-control" rows="1" name="newComment" [(ngModel)]="newComment"
                placeholder="Comment"></textarea>
      </div>
      <br>
    </div>

    <div class="d-flex justify-content-end">
      <button class="btn btn-success" type="button" *ngIf="isLoggedIn()" (click)=addComment()>Post Comment</button>
    </div>

    <hr *ngIf="isLoggedIn()"/>
    <div class="comment-box">
      <div class="header">
        <h5>Comments</h5>
      </div>
      <div *ngFor="let comment of comments; let i=index">

        <div class="line d-flex justify-content-between align-items-center" *ngIf="comment.videoId == videoID">

          <div class="d-flex flex-column align-items-start">
              <div class="comment-by-username"><strong>{{comment.userName}}</strong></div>
              <div class="user-comment">{{comment.comment}}</div>
          </div>

          <div class="d-flex justify-content-between user-edit-delete-comment">
            <div *ngIf="comment.userName == username">
              <textarea class="form-controller edit-user-comment" rows="1" name="editComment"
                        [(ngModel)]="editedComment"
                        placeholder="Edit Comment"></textarea>
              <button class="btn btn-secondary" (click)=editComments(comment.commentId)>Edit Comment</button>
            </div>
            <div *ngIf="canUserDelete(comment.userName)">
              <button class="btn btn-danger"
                      (click)=deleteComment(comment.commentId)>Delete Comment
              </button>
            </div>
          </div>

        </div>
      </div>

    </div>
  </form>
</div>
